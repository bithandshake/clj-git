
# git.api Clojure namespace

##### [README](../../../README.md) > [DOCUMENTATION](../../COVER.md) > git.api

### Index

- [get-gitignore](#get-gitignore)

- [ignore!](#ignore)

- [ignored?](#ignored)

### get-gitignore

```
@param (map)(opt) options
{:filepath (string)(opt)
  Default: ".gitignore"}
```

```
@usage
(get-gitignore)
```

```
@usage
(get-gitignore {:filepath "my-directory/.gitignore"})
```

```
@return (string)
```

<details>
<summary>Source code</summary>

```
(defn get-gitignore
  ([]
   (get-gitignore {}))

  ([{:keys [filepath] :or {filepath config/DEFAULT-GITIGNORE-FILEPATH}}]
   (io/read-file filepath)))
```

</details>

<details>
<summary>Require</summary>

```
(ns my-namespace (:require [git.api :refer [get-gitignore]]))

(git.api/get-gitignore ...)
(get-gitignore         ...)
```

</details>

---

### ignore!

```
@param (string) pattern
@param (map)(opt) options
{:group (string)(opt)
  Default: "git-api"
 :filepath (string)(opt)
  Default: ".gitignore"}
```

```
@usage
(ignore! "my-file.ext")
```

```
@usage
(ignore! "my-file.ext" {:group "My ignored files"})
```

```
@usage
(ignore! "my-file.ext" {:filepath "my-directory/.gitignore"})
```

```
@example
(ignore! "my-file.ext" {:group "My ignored files"})
=>
"\n# My ignored files\nmy-file.ext\n"
```

```
@return (string)
Returns with the updated .gitignore file's content.
```

<details>
<summary>Source code</summary>

```
(defn ignore!
  ([pattern]
   (ignore! pattern {}))

  ([pattern {:keys [group] :or {group "git-api"} :as options}]
   (let [gitignore (get-gitignore options)]
        (letfn [(group-exists?    [group]     (string/contains-part? gitignore (str "# "group)))
                (write-gitignore! [gitignore] (println (str "git.api adding pattern to .gitignore: \""pattern"\""))
                                              (io/write-file! ".gitignore" gitignore {:create? true})
                                              (return gitignore))]
               (cond (ignored?      pattern options)
                     (return        gitignore)
                     (group-exists? group)
                     (let [gitignore (str (string/to-first-occurence gitignore (str "# "group))
                                          (str "\n"pattern)
                                          (string/after-first-occurence gitignore (str "# "group)))]
                          (write-gitignore! gitignore))
                     :else
                     (let [gitignore (str (string/ends-with! gitignore "\n")
                                          (str "\n# "group"\n"pattern"\n"))]
                          (write-gitignore! gitignore)))))))
```

</details>

<details>
<summary>Require</summary>

```
(ns my-namespace (:require [git.api :refer [ignore!]]))

(git.api/ignore! ...)
(ignore!         ...)
```

</details>

---

### ignored?

```
@param (string) pattern
@param (map)(opt) options
{:filepath (string)(opt)
  Default: ".gitignore"}
```

```
@usage
(ignored? "my-file.ext")
```

```
@usage
(ignored? "my-file.ext" {:filepath "my-directory/.gitignore"})
```

```
@return (boolean)
```

<details>
<summary>Source code</summary>

```
(defn ignored?
  ([pattern]
   (ignored? pattern {}))

  ([pattern options]
   (string/contains-part? (get-gitignore options)
                          (str "\n"pattern"\n"))))
```

</details>

<details>
<summary>Require</summary>

```
(ns my-namespace (:require [git.api :refer [ignored?]]))

(git.api/ignored? ...)
(ignored?         ...)
```

</details>

---

This documentation is generated by the [docs-api](https://github.com/bithandshake/docs-api) engine

